---
apiVersion: v1
kind: Pod
metadata:
  name: daguploader
spec:
  serviceAccountName: airflow-worker
  # initContainers:
  #   - name: init-container
  #     image: "python:3.6"
  #     command: ["python", "-c"]
  #     args: ["import time;time.sleep(300);print('hello world');"]
  #     resources:
  #       limits:
  #         cpu: 500m
  #         memory: 1Gi
  #       requests:
  #         cpu: 500m
  #         memory: 1Gi
  # serviceAccount:
  #   # Specifies whether a ServiceAccount should be created
  #   create: true
  #   # The name of the ServiceAccount to use.
  #   # If not set and create is true, a name is generated using the release name
  #   name: ~

  #   # Annotations to add to worker kubernetes service account.
  #   #annotations: {}
  #   annotations:
  #     eks.amazonaws.com/role-arn: arn:aws-cn:iam::662914226203:role/qa/WishPost_QA
  #     eks.amazonaws.com/audience: sts.amazonaws.com.cn

  containers:
    - name: base
      command: ["python", "-c"]
      args: ["import time;time.sleep(300);print('hello world');"]
      image: "python:3.6"
      imagePullPolicy: IfNotPresent
      ports: []
      resources:
        limits:
          cpu: 500m
          memory: 1Gi
        requests:
          cpu: 500m
          memory: 1Gi
      # volumeMounts:
      #   - name: shared-volume
      #     mountPath: "/tmp/mnt"
  #hostNetwork: false
  restartPolicy: Never
  # volumes:
  # - name: shared-volume
  #   emptyDir: {}